<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DreamLend Architecture Diagram</title>
    <style>
      body {
        font-family: "Arial", sans-serif;
        margin: 0;
        padding: 20px;
        background: #f8fafc;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
      }

      .diagram-container {
        background: white;
        border-radius: 12px;
        padding: 30px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        max-width: 1200px;
        width: 100%;
      }

      .title {
        text-align: center;
        margin-bottom: 30px;
      }

      .title h1 {
        color: #1a202c;
        font-size: 2.2rem;
        margin-bottom: 8px;
        font-weight: 700;
      }

      .title p {
        color: #718096;
        font-size: 1.1rem;
        margin: 0;
      }

      svg {
        width: 100%;
        height: auto;
        display: block;
      }

      .layer-box {
        fill: #ffffff;
        stroke: #e2e8f0;
        stroke-width: 2;
        rx: 8;
      }

      .user-layer {
        fill: #e6fffa;
        stroke: #38b2ac;
      }
      .frontend-layer {
        fill: #ebf8ff;
        stroke: #3182ce;
      }
      .blockchain-layer {
        fill: #faf5ff;
        stroke: #805ad5;
      }
      .oracle-layer {
        fill: #fffaf0;
        stroke: #dd6b20;
      }

      .layer-title {
        font-size: 16px;
        font-weight: 700;
        fill: #1a202c;
      }

      .component-box {
        fill: #ffffff;
        stroke: #cbd5e0;
        stroke-width: 1.5;
        rx: 6;
      }

      .component-text {
        font-size: 12px;
        font-weight: 600;
        fill: #2d3748;
      }

      .component-desc {
        font-size: 10px;
        fill: #718096;
      }

      .arrow {
        stroke: #4a5568;
        stroke-width: 2;
        fill: none;
        marker-end: url(#arrowhead);
      }

      .data-flow {
        stroke: #3182ce;
        stroke-width: 2;
        stroke-dasharray: 5, 5;
        fill: none;
        marker-end: url(#arrowhead-blue);
      }

      .contract-address {
        font-size: 9px;
        font-family: "Courier New", monospace;
        fill: #4a5568;
      }

      .network-info {
        font-size: 11px;
        font-weight: 600;
        fill: #805ad5;
      }
    </style>
  </head>
  <body>
    <div class="diagram-container">
      <div class="title">
        <h1>üèóÔ∏è DreamLend Architecture</h1>
        <p>Decentralized P2P Lending Protocol on Somnia L1</p>
      </div>

      <svg viewBox="0 0 1100 800" xmlns="http://www.w3.org/2000/svg">
        <!-- Arrow markers -->
        <defs>
          <marker
            id="arrowhead"
            markerWidth="10"
            markerHeight="7"
            refX="9"
            refY="3.5"
            orient="auto"
          >
            <polygon points="0 0, 10 3.5, 0 7" fill="#4a5568" />
          </marker>
          <marker
            id="arrowhead-blue"
            markerWidth="10"
            markerHeight="7"
            refX="9"
            refY="3.5"
            orient="auto"
          >
            <polygon points="0 0, 10 3.5, 0 7" fill="#3182ce" />
          </marker>
        </defs>

        <!-- User Layer -->
        <rect
          x="50"
          y="50"
          width="280"
          height="120"
          class="layer-box user-layer"
        />
        <text x="190" y="75" class="layer-title" text-anchor="middle">
          üë• User Layer
        </text>

        <!-- Lenders -->
        <rect x="70" y="90" width="70" height="35" class="component-box" />
        <text x="105" y="105" class="component-text" text-anchor="middle">
          üè¶ Lenders
        </text>
        <text x="105" y="118" class="component-desc" text-anchor="middle">
          Create Offers
        </text>

        <!-- Borrowers -->
        <rect x="155" y="90" width="70" height="35" class="component-box" />
        <text x="190" y="105" class="component-text" text-anchor="middle">
          üí∞ Borrowers
        </text>
        <text x="190" y="118" class="component-desc" text-anchor="middle">
          Accept Loans
        </text>

        <!-- Liquidators -->
        <rect x="240" y="90" width="70" height="35" class="component-box" />
        <text x="275" y="105" class="component-text" text-anchor="middle">
          ‚ö° Liquidators
        </text>
        <text x="275" y="118" class="component-desc" text-anchor="middle">
          Monitor Health
        </text>

        <!-- Frontend Layer -->
        <rect
          x="400"
          y="50"
          width="280"
          height="180"
          class="layer-box frontend-layer"
        />
        <text x="540" y="75" class="layer-title" text-anchor="middle">
          üñ•Ô∏è Frontend Layer (Next.js)
        </text>

        <!-- Next.js App -->
        <rect x="420" y="90" width="100" height="35" class="component-box" />
        <text x="470" y="105" class="component-text" text-anchor="middle">
          üì± Next.js App
        </text>
        <text x="470" y="118" class="component-desc" text-anchor="middle">
          React Interface
        </text>

        <!-- Hooks -->
        <rect x="540" y="90" width="120" height="35" class="component-box" />
        <text x="600" y="105" class="component-text" text-anchor="middle">
          üé£ Custom Hooks
        </text>
        <text x="600" y="118" class="component-desc" text-anchor="middle">
          useP2PLending, etc.
        </text>

        <!-- Components -->
        <rect x="420" y="140" width="100" height="35" class="component-box" />
        <text x="470" y="155" class="component-text" text-anchor="middle">
          üß© Components
        </text>
        <text x="470" y="168" class="component-desc" text-anchor="middle">
          TransactionModal
        </text>

        <!-- Wallet -->
        <rect x="540" y="140" width="120" height="35" class="component-box" />
        <text x="600" y="155" class="component-text" text-anchor="middle">
          üí≥ Wallet Integration
        </text>
        <text x="600" y="168" class="component-desc" text-anchor="middle">
          Reown AppKit
        </text>

        <!-- The Graph -->
        <rect x="420" y="190" width="240" height="30" class="component-box" />
        <text x="540" y="205" class="component-text" text-anchor="middle">
          üìä The Graph Subgraph
        </text>
        <text x="540" y="215" class="component-desc" text-anchor="middle">
          Data Indexing & Caching
        </text>

        <!-- Blockchain Layer -->
        <rect
          x="750"
          y="50"
          width="300"
          height="300"
          class="layer-box blockchain-layer"
        />
        <text x="900" y="75" class="layer-title" text-anchor="middle">
          ‚õìÔ∏è Somnia L1 Blockchain
        </text>
        <text x="900" y="90" class="network-info" text-anchor="middle">
          Chain ID: 50312 | 400k+ TPS
        </text>

        <!-- DreamLend Contract -->
        <rect x="770" y="110" width="120" height="50" class="component-box" />
        <text x="830" y="125" class="component-text" text-anchor="middle">
          üèõÔ∏è DreamLend
        </text>
        <text x="830" y="138" class="component-desc" text-anchor="middle">
          Main Protocol
        </text>
        <text x="830" y="150" class="contract-address" text-anchor="middle">
          0xddDa4e2B1B8E6f06
        </text>
        <text x="830" y="160" class="contract-address" text-anchor="middle">
          086F103dA6358E7a
        </text>

        <!-- Rewards Contract -->
        <rect x="910" y="110" width="120" height="50" class="component-box" />
        <text x="970" y="125" class="component-text" text-anchor="middle">
          üéÅ Rewards
        </text>
        <text x="970" y="138" class="component-desc" text-anchor="middle">
          $DREAM Mining
        </text>
        <text x="970" y="150" class="contract-address" text-anchor="middle">
          0x1ee1E4d84636FF
        </text>
        <text x="970" y="160" class="contract-address" text-anchor="middle">
          Db8de6Dc684475C8
        </text>

        <!-- DREAM Token -->
        <rect x="770" y="180" width="120" height="50" class="component-box" />
        <text x="830" y="195" class="component-text" text-anchor="middle">
          üíé $DREAM
        </text>
        <text x="830" y="208" class="component-desc" text-anchor="middle">
          Governance Token
        </text>
        <text x="830" y="220" class="contract-address" text-anchor="middle">
          0xf68F7B7FD9629f49
        </text>
        <text x="830" y="230" class="contract-address" text-anchor="middle">
          90A5AB7181C2EE0E
        </text>

        <!-- Mock Tokens -->
        <rect x="910" y="180" width="120" height="50" class="component-box" />
        <text x="970" y="195" class="component-text" text-anchor="middle">
          ü™ô Mock Tokens
        </text>
        <text x="970" y="208" class="component-desc" text-anchor="middle">
          MUSDT, MUSDC
        </text>
        <text x="970" y="220" class="component-desc" text-anchor="middle">
          MWBTC, MARB, MSOL
        </text>

        <!-- Oracle Layer -->
        <rect
          x="750"
          y="400"
          width="300"
          height="120"
          class="layer-box oracle-layer"
        />
        <text x="900" y="425" class="layer-title" text-anchor="middle">
          üîÆ Oracle Infrastructure
        </text>

        <!-- DIA Oracle -->
        <rect x="770" y="445" width="120" height="50" class="component-box" />
        <text x="830" y="460" class="component-text" text-anchor="middle">
          üîÆ DIA Oracle V2
        </text>
        <text x="830" y="473" class="component-desc" text-anchor="middle">
          Price Feeds
        </text>
        <text x="830" y="485" class="contract-address" text-anchor="middle">
          0x9206296Ea3aEE3E6
        </text>
        <text x="830" y="495" class="contract-address" text-anchor="middle">
          bdC07F7AaeF14DfC
        </text>

        <!-- Price Feeds -->
        <rect x="910" y="445" width="120" height="50" class="component-box" />
        <text x="970" y="460" class="component-text" text-anchor="middle">
          üìä Price Feeds
        </text>
        <text x="970" y="473" class="component-desc" text-anchor="middle">
          USDT, USDC, BTC
        </text>
        <text x="970" y="485" class="component-desc" text-anchor="middle">
          ARB, SOL Feeds
        </text>

        <!-- Data Flow Section -->
        <rect
          x="50"
          y="600"
          width="1000"
          height="150"
          class="layer-box"
          style="fill: #f7fafc; stroke: #a0aec0"
        />
        <text x="550" y="625" class="layer-title" text-anchor="middle">
          üîÑ Data Flow & Interactions
        </text>

        <!-- Flow Steps -->
        <rect x="80" y="650" width="140" height="40" class="component-box" />
        <text x="150" y="665" class="component-text" text-anchor="middle">
          1. User Interaction
        </text>
        <text x="150" y="678" class="component-desc" text-anchor="middle">
          Create/Accept Loans
        </text>

        <rect x="250" y="650" width="140" height="40" class="component-box" />
        <text x="320" y="665" class="component-text" text-anchor="middle">
          2. Frontend Processing
        </text>
        <text x="320" y="678" class="component-desc" text-anchor="middle">
          Validation & UI Updates
        </text>

        <rect x="420" y="650" width="140" height="40" class="component-box" />
        <text x="490" y="665" class="component-text" text-anchor="middle">
          3. Smart Contract
        </text>
        <text x="490" y="678" class="component-desc" text-anchor="middle">
          Execute Transaction
        </text>

        <rect x="590" y="650" width="140" height="40" class="component-box" />
        <text x="660" y="665" class="component-text" text-anchor="middle">
          4. Oracle Check
        </text>
        <text x="660" y="678" class="component-desc" text-anchor="middle">
          Price Validation
        </text>

        <rect x="760" y="650" width="140" height="40" class="component-box" />
        <text x="830" y="665" class="component-text" text-anchor="middle">
          5. Event Emission
        </text>
        <text x="830" y="678" class="component-desc" text-anchor="middle">
          Blockchain Events
        </text>

        <rect x="930" y="650" width="140" height="40" class="component-box" />
        <text x="1000" y="665" class="component-text" text-anchor="middle">
          6. Subgraph Index
        </text>
        <text x="1000" y="678" class="component-desc" text-anchor="middle">
          Data Caching
        </text>

        <!-- Arrows for User to Frontend -->
        <line x1="330" y1="110" x2="400" y2="110" class="arrow" />

        <!-- Arrows for Frontend to Blockchain -->
        <line x1="680" y1="140" x2="750" y2="140" class="arrow" />

        <!-- Arrows for Blockchain to Oracle -->
        <line x1="900" y1="350" x2="900" y2="400" class="arrow" />

        <!-- Data flow arrows -->
        <line x1="220" y1="670" x2="250" y2="670" class="data-flow" />
        <line x1="390" y1="670" x2="420" y2="670" class="data-flow" />
        <line x1="560" y1="670" x2="590" y2="670" class="data-flow" />
        <line x1="730" y1="670" x2="760" y2="670" class="data-flow" />
        <line x1="900" y1="670" x2="930" y2="670" class="data-flow" />

        <!-- Return data flow -->
        <path d="M 1000 690 Q 550 720 150 690" class="data-flow" />

        <!-- Website & Social Links -->
        <text
          x="550"
          y="770"
          class="component-text"
          text-anchor="middle"
          style="font-size: 14px"
        >
          üåê dreamlend.finance | üê¶ @DreamlendFi | Built for Somnia L1
        </text>
      </svg>
    </div>
  </body>
</html>
